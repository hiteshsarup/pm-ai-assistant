{
  "messages": [
    {
      "role": "assistant",
      "content": "Hello! How can I help you with your PRD today?"
    },
    {
      "role": "user",
      "content": "Describe the indent flow in Shipsy"
    },
    {
      "role": "assistant",
      "content": "Sure! The indent flow in Shipsy is designed to facilitate the request for vehicle and driver allocation from external vendors for both First/Last Mile (FLM) and Inter Stock Transfer (IST) trips. Here's an overview of the indent flow:\n\n### 1. Overview of Indent Flow\nAn indent represents a request sent to external vendors to assign a vehicle and driver for a trip. The process is structured to allow for both manual and automated handling of vendor assignments based on specific configurations.\n\n### 2. Trip Types\n- **FLM Trips (Endpoint Trips)**: Direct shipments where vehicle assignment occurs based on immediate transportation needs.\n- **IST Trips (Inter Stock Transfers)**: Internal movements that can involve multiple modes of transport, allowing for a slightly different flow.\n\n### 3. Indent Process Steps\n- **Configuration**: \n  - The `send_vehicle_requisition_request` flag controls whether the indent process is active.\n  - Other configurations determine thresholds for classifying trips (FTL vs. LTL) and enable specific actions.\n\n- **Trip Creation**:\n  - In the manual trip creation UI, when `send_vehicle_requisition_request` is enabled, users can select a Vendor along with a Vehicle Make, preparing an indent request.\n  - If the configuration allows, trips are held until a vendor confirms a vehicle assignment.\n\n- **Vendor Portal Interaction**:\n  - Vendors can view and respond to indent requests via the Vendor Portal, where they can accept or reject the requests.\n  - Notifications (SMS/email) are sent to vendors at each stage of the indent process, contingent on the `send_vehicle_requisition_request` flag being enabled.\n\n- **Handling of FLM and IST Trips**:\n  - **FLM Flow**: \n    - Requests are created, and vendors can accept/reject. Accepted requests will assign a vehicle and driver. Indents are typically used for FTL shipments.\n    - Indent metrics like `freight_type` and conversion metrics (e.g., `max_cumulative_product_value`) are recorded for reference.\n    \n  - **IST Flow**:\n    - The system looks for serviceable vendors based on predetermined route and vehicle type.\n    - The allocation for IST trips follows a similar pattern to that of FLM, allowing for outsourcing inter-hub movements to vendors based on specific configurations.\n\n### 4. Notifications & Alerts\n- Upon request cancellation, a DEREQUISITION alert SMS is sent to the respective vendor if the indent setting is active.\n- Every status change triggers corresponding notifications to keep all parties informed.\n\n### 5. Closing the Indent\nOnce the vehicle assignment is complete or a trip reaches its final stages, the system marks the indent as complete. If certain consignments are not unloaded, the system can track and manage further actions.\n\n---\n\nThis flow ensures efficient vehicle allocation while involving vendors closely, thereby enhancing the logistics process. If you need additional information or further clarification on any part of the process, feel free to ask!"
    }
  ],
  "mode": "generator",
  "approachType": "generic"
}